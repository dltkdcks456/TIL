![image-20230106161712805](assets/image-20230106161712805.png)

> 제어의 역전(IoC)을 통해 역전의 역전으로 스프링 컨테이너 한 곳에 모아둘 수 있고 의존 관계 또한 한 곳에서 제어할 수 있다. `property` 는 설정자 주입이라고 부른다.

```java
<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd">

	<bean class="com.ssafy.spring.Desktop"  id="desktop"></bean>
	<bean class="com.ssafy.spring.Labtop"  id="labtop"></bean>
	<bean class="com.ssafy.spring.Worker"  id="worker">
		<constructor-arg name="computer" ref="desktop">
		</constructor-arg>
	</bean>
	
</beans>
```

> 생성자를 설정해 줄 때에는 `constrctor-arg`를 사용한다.
>
> `safe closing`으로 태그와 태그 안에 넣을 값이 없으면 />으로 할 수 있다.

- 설정자 주입은 중간에 주입을 자바 코드 단에서 바꿔 줄 수 있고, 생성자 주입의 경우에는 의존 관계없이는 태어날 수 없음. 생성자가 좀더 강력한 의존관계인 느낌

![image-20230106164250731](assets/image-20230106164250731.png)

> JDBC로 코드를 짜면 너무 길다.
>
> 1. 자원 관리(내가 직접 커넥션을 열고 닫고) -> 이것보다 조금 더 위에 있는 세션이 자원 관리를 대신해줘서 짧게 만들어 줄 수 있음
> 2. 파라미터 매핑(몇 번 째 누구 타입으로 다 정해야 함)
> 3. 결과 매핑

![image-20230106165810432](assets/image-20230106165810432.png)

> `context`를 `Namespaces`에서 선택해준다.

```java
package com.ssafy.spring;

import org.springframework.stereotype.Component;

// 클래스 첫글자를 소문자로 바꾼 이름 bean의 이름이 된다.
@Component
public class Worker {
	private Computer computer;
	public Worker(Computer computer) {
		System.out.println("Worker의 생성자가 불렸습니다.");
		this.computer = computer;
	}
	public void doWork() {
		System.out.println(this.computer.getInfo() + " 로 일을 합니다." + this.age);
	}
	private int age;
	public void setHong(int value) {
		this.age = value;
	}
}
```

```java
package com.ssafy.spring;

import org.springframework.stereotype.Component;

// component를 붙이면 파일에 S라는 낙인이 찍힘, 빈으로 하나 등록됨
@Component
public class Desktop implements Computer{

	@Override
	public String getInfo() {
		return "데스크탑";
	}

}
```



- `Autowired`는 자동으로 타입이 일치하는 bean을 넣어준다.

```java
package com.ssafy.spring;

import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.stereotype.Component;

// 클래스 첫글자를 소문자로 바꾼 이름 bean의 이름이 된다.
@Component
public class Worker {
	private Computer computer;
	public Worker(Computer computer) {
		System.out.println("Worker의 생성자가 불렸습니다.");
		this.computer = computer;
	}
	// 자동으로 타입이 일치하는 bean을 찾아다가 여기에 넣어줌
	@Autowired
	public void doWork() {
		System.out.println(this.computer.getInfo() + " 로 일을 합니다." + this.age);
	}
	
	private int age;
	public void setHong(int value) {
		this.age = value;
	}
}
```

