# ì˜ˆì™¸ì²˜ë¦¬(Exception Handling)

- ì—ëŸ¬ì™€ ì˜ˆì™¸
  - ì–´ë–¤ ì›ì¸ì— ì˜í•´ ì˜¤ë™ì‘ í•˜ê±°ë‚˜ ë¹„ì •ìƒì ìœ¼ë¡œ ì¢…ë£Œë˜ëŠ” ê²½ìš°
  - ì‹¬ê°ë„ì— ë”°ë¥¸ ë¶„ë¥˜
    - Error
      - ë©”ëª¨ë¦¬ ë¶€ì¡±, stack overflowì™€ ê°™ì´ ì¼ë‹¨ ë°œìƒí•˜ë©´ ë³µêµ¬í•  ìˆ˜ ì—†ëŠ” ìƒí™©
      - í”„ë¡œê·¸ë¨ì˜ ë¹„ ì •ìƒì  ì¢…ë£Œë¥¼ ë§‰ì„ ìˆ˜ ì—†ìŒ -> ë””ë²„ê¹… í•„ìš”
    - Exception
      - ì½ìœ¼ë ¤ëŠ” íŒŒì¼ì´ ì—†ê±°ë‚˜, ë„¤íŠ¸ì›Œí¬ ì—°ê²°ì´ ì•ˆ ë˜ëŠ” ë“± ìˆ˜ìŠµë  ìˆ˜ ìˆëŠ” ë¹„êµì  ìƒíƒœê°€ ì•½í•œ ê²ƒë“¤
      - í”„ë¡œê·¸ë¨ ì½”ë“œì— ì˜í•´ ìˆ˜ìŠµë  ìˆ˜ ìˆëŠ” ìƒí™©

### ì˜ˆì™¸ì²˜ë¦¬ë€?

- ì˜ˆì™¸ ë°œìƒ ì‹œ í”„ë¡œê·¸ë¨ì˜ ë¹„ì •ìƒ ì¢…ë£Œë¥¼ ë§‰ê³  ì •ìƒì ì¸ ì‹¤í–‰ ìƒíƒœë¥¼ ìœ ì§€í•˜ëŠ” ê²ƒ
- ì˜ˆì™¸ì˜ ê°ì§€ ë° ì˜ˆì™¸ ë°œìƒ ì‹œ ë™ì‘í•  ì½”ë“œ ì‘ì„± í•„ìš”

![image-20221227153806361](assets/image-20221227153806361.png)

> Errorë‚˜ Exceptionë„ í•˜ë‚˜ì˜ í´ë˜ìŠ¤ì´ê¸° ë•Œë¬¸ì— ë¿Œë¦¬ë¥¼ ì°¾ì•„ê°€ë©´ Objectì´ë‹¤.
>
> `checked exception`ì€ ì—ë””í„°ì— ë¹¨ê°„ì¤„ ê·¸ì–´ì§„ ê²ƒë„ í¬í•¨

![image-20221227155614490](assets/image-20221227155614490.png)

```java
package com.ssafy.exception;

public class ExceptionTest1 {
	public static void main(String[] args) {
		int[] nums = {10};
		int[] nums2 = new int[] {10};
		
		//Unchecked Exception
		System.out.println(nums[2]);
		
		//Checked Exception
		Thread.sleep(1000);
		
		System.out.println("Quit program");
	}
}
```



### ì˜ˆì™¸ ì²˜ë¦¬ í‚¤ì›Œë“œ

- ì§ì ‘ ì²˜ë¦¬
  - try
  - catch
  - finally
- ê°„ì ‘ ì²˜ë¦¬
  - throws
- ì‚¬ìš©ì ì •ì˜ ì˜ˆì™¸ì²˜ë¦¬
  - throw

![image-20221227160132373](assets/image-20221227160132373.png)

> UncheckedëŠ” í•„ìˆ˜ X, CheckedëŠ” í•„ìˆ˜ O

```java
package com.ssafy.exception;

public class ExceptionTest1 {
	public static void main(String[] args) {
		int[] nums = {10};
		
		//Unchecked Exception
		try {
			System.out.println(nums[2]);
		} catch (ArrayIndexOutOfBoundsException e) {
			System.out.println("Please check the length of the Array");
		}
		
		System.out.println("Quit program");
	}
}
```

![image-20221227160848300](assets/image-20221227160848300.png)

![image-20221227161612554](assets/image-20221227161612554.png)

![image-20221227161907511](assets/image-20221227161907511.png)

![image-20221227164758490](assets/image-20221227164758490.png)

```java
package com.ssafy.exception;

import java.util.Random;

public class ExceptionTest4 {
	public static void main(String[] args) {
//		int num = new Random().nextInt(2);
//		int num = 1; // 1 2 4ê¹Œì§€ ì¶œë ¥í•˜ê³  returnë˜ì–´ì„œ 5ëŠ” ë¯¸ì¶œë ¥
		int num = 0; // 1 3 4 5
		
		try {
			System.out.println("1");
			int i = 1 / num; // ì˜ˆì™¸ê°€ ë°œìƒí•  ìˆ˜ ìˆëŠ” ë¶€ë¶„
			System.out.println("2");
			return;
		} catch (ArithmeticException e) {
			System.out.println("3");
		} finally {
			System.out.println("4");
		}
		System.out.println("5");
		
	}
}
```

![image-20221227172011535](assets/image-20221227172011535.png)

- ìì›ë°˜ë‚©ì€ `finally`ë¥¼ ì‚¬ìš©í•´ì£¼ëŠ” ê²ƒì´ ì¢‹ìŒ
  - íŒŒë€ìƒ‰ ë¸”ëŸ­ ì•ˆì— ì²˜ëŸ¼ `try`, `catch` êµ¬ë¬¸ ë°–ì— ìˆìœ¼ë©´ ì¬í•´ì„ì˜ ìœ„í—˜ì´ ìˆê³ , `return`ì´ í˜¹ì‹œë‚˜ ì¡´ì¬í•˜ê²Œ ëœë‹¤ë©´ `delete()`ê°€ ì‹¤í–‰ì´ ë˜ì§€ ì•Šì„ ìœ„í—˜ë„ ì¡´ì¬í•œë‹¤.

![image-20221227172341420](assets/image-20221227172341420.png)

> `exceptionMethod` ë©”ì†Œë“œ ìì²´ ë‚´ì—ì„œ ì˜ˆì™¸ ì²˜ë¦¬ë¥¼ í•˜ì§€ ì•Šê³  ì˜ˆì™¸ë¥¼ ë˜ì ¸ë²„ë¦¼. ê·¸ëŸ¼ ê·¸ ì˜ˆì™¸ê°€ ë‚˜ë¥¼ ë¶ˆë €ë˜ ê³³ìœ¼ë¡œ ì´ë™. ì¦‰, ë‚˜ë¥¼ ë¶ˆë €ë˜ ê³³ìœ¼ë¡œ ì±…ì„ì„ ì „ê°€ ì‹œí‚´.



![image-20221227201530071](assets/image-20221227201530071.png)

```java
package com.ssafy.exception2;

public class CheckedExceptionTest {
	public static void main(String[] args) {
		
		// 1. staticì„ ì•„ë˜ ë©”ì„œë“œì— ëª¨ë‘ ì¶”ê°€í•´ì£¼ê±°ë‚˜
		// 2. CheckedExceptionTest ê°ì²´ë¥¼ ë§Œë“¤ì–´ì„œ ì‚¬ìš© í•˜ë©´ ëœë‹¤.
		CheckedExceptionTest c = new CheckedExceptionTest();
		try {
			c.method1();
		} catch (Exception e) {
			// TODO Auto-generated catch block
			e.printStackTrace();
		}
	}
	
	public void method1() {
		method2();
	}
	
	public void method2() {
		int i = 1 / 0;
	}
}
```

![image-20221227201603518](assets/image-20221227201603518.png)

> ğŸ“Œ `Unchecked`ëŠ” ë†“ì¹˜ê¸° ì‰½ë‹¤

```java
package com.ssafy.exception2;

public class UnCheckedException {
	public static void main(String[] args) {
		
		// 1. staticì„ ì•„ë˜ ë©”ì„œë“œì— ëª¨ë‘ ì¶”ê°€í•´ì£¼ê±°ë‚˜
		// 2. CheckedExceptionTest ê°ì²´ë¥¼ ë§Œë“¤ì–´ì„œ ì‚¬ìš© í•˜ë©´ ëœë‹¤.
		UnCheckedException c = new UnCheckedException();
		try {
			c.method1();
		} catch (ClassNotFoundException e) {
			// TODO Auto-generated catch block
			e.printStackTrace();
		}
	}
	
	public void method1() throws ClassNotFoundException {
		method2();
	}
	
	public void method2() throws ClassNotFoundException {
		Class.forName("SSAFY");
	}
}
```

![image-20221227201931350](assets/image-20221227201931350.png)

![image-20221227202244817](assets/image-20221227202244817.png)

> ì‘ì€ ë²”ìœ„ì—ì„œ í° ë²”ìœ„ë¡œ ë˜ì§€ëŠ” ê²ƒì€ ê°€ëŠ¥í•˜ì§€ë§Œ Exceptionê°™ì€ ê²½ìš°ì—ëŠ” ë‹¤ë¥¸ ì˜ˆì™¸ ì²˜ë¦¬ê°€ ì˜¬ë¼ê°ˆ ìˆ˜ ìˆìœ¼ë¯€ë¡œ ì‚¬ìš©í•  ìˆ˜ ì—†ë‹¤. FileNotFoundExceptionì€ IOExceptionì„ ìƒì† ë°›ê³  ìˆë‹¤.

![image-20221227202522826](assets/image-20221227202522826.png)

```java
package com.ssafy.exception;

import java.util.Arrays;

public class UserExceptionTest {
	private static String[] fruits = {"grape", "apple", "banana", "melon", "strawberry"};
	
	public static void main(String[] args) {
		boolean result = getFruit1("strawberry");
		if (!result) {
			System.out.println("There is no strawberry");
		}
		
		result = getFruit1("strawberry");
		if (!result) {
			System.out.println("There is no strawberry!!");
		}
		
//		try {
//			getFruit2("apple");
//			getFruit2("apple");
//		} catch (FruitNotFoundException e) {
//			// TODO Auto-generated catch block
//			e.printStackTrace();
//		}
		try {
			setFruit("orange");
			setFruit("orange");
		} catch (NoSpaceException e) {
			// TODO Auto-generated catch block
			e.printStackTrace();
		}
		System.out.println(Arrays.toString(fruits));
		
		
	}

	
	// name ê³¼ì¼ì´ ìˆë”°ë©´ trueë¥¼ ë°˜í™˜í•˜ê³  í•´ë‹¹ ìœ„ì¹˜ì˜ ê³¼ì¼ì„ null
	public static boolean getFruit1(String name) {
		for (int i = 0; i < fruits.length; i++) {
			if (fruits[i] != null && fruits[i].equals(name)) {
				fruits[i] = null;
				return true;
			}
		}
		return false;
	}
	
	// ì˜ˆì™¸ë¥¼ ë§Œë“¤ì–´ì„œ ë°œìƒì‹œì¼œë³´ì
	public static void getFruit2(String name) throws FruitNotFoundException {
		for (int i = 0; i < fruits.length; i++) {
			if (fruits[i] != null && fruits[i].equals(name)) {
				fruits[i] = null;
				return;
			}
		}
		throw new FruitNotFoundException(name);
	}
	
	//ë°°ì—´ì— nullì¸ ì§€ì ì— ê³¼ì¼ì„ ì €ì¥í•˜ë„ë¡ ì‘ì„±í•˜ì‹œêµ¬ìš”. ì—†ìœ¼ë©´ NoSpaceException ì‘ì„±í•´ë³´ì„¸ìš”.
	public static void setFruit(String name) throws NoSpaceException {
		for (int i = 0; i < fruits.length; i++ ) {
			if (fruits[i] == null) {
				fruits[i] = name;
				return;
			}
		}
		throw new NoSpaceException(name);
	}
	
}
```

```java
package com.ssafy.exception;

public class NoSpaceException extends Exception{

	public NoSpaceException(String name) {
		super("There is no space, bro!!");
	}

}
```

